.login-container{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a1a2e,#16213e);padding:20px}.login-card{background:#fff;border-radius:12px;padding:40px;width:100%;max-width:400px;box-shadow:0 10px 40px #0000004d}.login-title{text-align:center;color:#1a1a2e;font-size:28px;margin-bottom:8px}.login-subtitle{text-align:center;color:#666;font-size:14px;margin-bottom:32px}.login-form{display:flex;flex-direction:column;gap:20px}.input-group{display:flex;flex-direction:column;gap:8px}.input-label{font-size:14px;font-weight:500;color:#333}.login-input{padding:12px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:16px;transition:border-color .2s,box-shadow .2s;outline:none}.login-input:focus{border-color:#1a1a2e;box-shadow:0 0 0 3px #1a1a2e1a}.login-input.input-error{border-color:#e74c3c;animation:shake .3s ease-in-out}.login-input:disabled{background-color:#f5f5f5;cursor:not-allowed}.error-message{color:#e74c3c;font-size:14px;padding:10px;background-color:#fdf2f2;border-radius:6px;text-align:center}.login-button{padding:14px 24px;background:linear-gradient(135deg,#1a1a2e,#16213e);color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s,box-shadow .2s}.login-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #1a1a2e4d}.login-button:active:not(:disabled){transform:translateY(0)}.login-button:disabled{opacity:.7;cursor:not-allowed}.login-hint{margin-top:24px;padding-top:20px;border-top:1px solid #e0e0e0;text-align:center}.login-hint p{color:#888;font-size:12px;margin:4px 0}.share-section{margin-top:20px;padding-top:16px;border-top:1px solid #e0e0e0;text-align:center}.share-button{padding:10px 20px;background:#f0f0f0;color:#333;border:1px solid #ddd;border-radius:6px;font-size:14px;cursor:pointer;transition:background-color .2s,border-color .2s}.share-button:hover{background:#e8e8e8;border-color:#ccc}.share-button:active{background:#ddd}.share-hint{color:#888;font-size:12px;margin-top:8px}.data-table-container{width:100%;border:1px solid #e0e0e0;border-radius:8px;overflow:hidden;background:#fff}.data-table-header{background:#f8f9fa;border-bottom:2px solid #e0e0e0}.data-table-header .data-table{width:100%;table-layout:fixed}.data-table-header th{padding:12px 16px;text-align:left;font-weight:600;font-size:13px;color:#1a1a2e;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.data-table-body{overflow-y:auto;overflow-x:hidden}.data-table-body.scrollable{scrollbar-width:thin;scrollbar-color:#c0c0c0 #f0f0f0}.data-table-body.scrollable::-webkit-scrollbar{width:8px}.data-table-body.scrollable::-webkit-scrollbar-track{background:#f0f0f0}.data-table-body.scrollable::-webkit-scrollbar-thumb{background:silver;border-radius:4px}.data-table-body.scrollable::-webkit-scrollbar-thumb:hover{background:#a0a0a0}.data-table-body .data-table{width:100%;table-layout:fixed}.data-table-body td{padding:12px 16px;font-size:14px;color:#333;border-bottom:1px solid #f0f0f0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.data-table-body tr:last-child td{border-bottom:none}.data-table-body tr.clickable{cursor:pointer;transition:background-color .15s ease}.data-table-body tr.clickable:hover{background-color:#f5f7fa}.data-table-body tr.empty-row td{text-align:center;color:#999;padding:24px 16px}.data-table{border-collapse:collapse;border-spacing:0}@media (max-width: 768px){.data-table-header th,.data-table-body td{padding:10px 12px;font-size:12px}}.territory-list{width:100%}.castle-info{display:flex;align-items:center;gap:6px}.castle-level{font-size:11px;color:#666;background:#f0f0f0;padding:2px 6px;border-radius:4px}.special-products{display:flex;flex-wrap:wrap;gap:4px}.product-tag{font-size:12px;background:#e8f4fd;color:#1976d2;padding:2px 8px;border-radius:4px}.no-product,.no-garrison{color:#999}.garrison-name{color:#2e7d32;font-weight:500}.samurai-list{width:100%}.samurai-type{font-size:12px;padding:3px 8px;border-radius:4px;font-weight:500}.samurai-type.warrior{background:#ffebee;color:#c62828}.samurai-type.strategist{background:#e3f2fd;color:#1565c0}.stat-value{font-weight:600;font-size:14px}.stat-value.martial{color:#c62828}.stat-value.civil{color:#1565c0}.samurai-status{font-size:12px;padding:3px 8px;border-radius:4px}.samurai-status.idle{background:#e8f5e9;color:#2e7d32}.samurai-status.busy{background:#fff3e0;color:#ef6c00}.action-points{display:flex;align-items:center;gap:2px}.action-points.ap-full .ap-current{color:#27ae60;font-weight:600}.action-points.ap-half .ap-current{color:#f39c12;font-weight:600}.action-points.ap-empty .ap-current{color:#e74c3c;font-weight:600}.ap-current{font-weight:600;color:#1a1a2e}.ap-separator,.ap-max{color:#999}.diplomacy-list{width:100%}.faction-name{font-weight:500;color:#1a1a2e}.relation-badge{display:inline-block;font-size:12px;padding:4px 12px;border-radius:12px;font-weight:500}.relation-badge.alliance{background:#e8f5e9;color:#2e7d32}.relation-badge.hostile,.relation-badge.war{background:#ffebee;color:#c62828}.relation-badge.neutral{background:#f5f5f5;color:#666}.relation-badge.vassal{background:#fff3e0;color:#ef6c00}.relation-badge.suzerain{background:#e3f2fd;color:#1565c0}.relation-badge.truce{background:#fce4ec;color:#ad1457}.relation-badge.default{background:#f0f0f0;color:#333}.legion-list{width:100%}.legion-name{font-weight:600;color:#1a1a2e}.soldier-count{font-weight:500;color:#2e7d32}.equipment-count{color:#666}.expand-indicator{font-size:12px;color:#1976d2;cursor:pointer;-webkit-user-select:none;user-select:none}.expand-indicator.expanded{color:#666}.legion-management-menu{background:#f8f9fa;border:1px solid #e0e0e0;border-top:none;border-radius:0 0 8px 8px;padding:16px;margin-top:-1px}.menu-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.menu-title{font-weight:600;color:#1a1a2e;font-size:14px}.menu-close{background:none;border:none;font-size:20px;color:#999;cursor:pointer;padding:0;line-height:1}.menu-close:hover{color:#333}.menu-actions{display:flex;gap:12px;flex-wrap:wrap}.action-btn{padding:8px 16px;border:none;border-radius:6px;font-size:13px;cursor:pointer;transition:all .2s ease}.action-btn.edit-soldiers{background:#e3f2fd;color:#1565c0}.action-btn.edit-soldiers:hover:not(:disabled){background:#bbdefb}.action-btn.edit-equipment{background:#fff3e0;color:#ef6c00}.action-btn.edit-equipment:hover:not(:disabled){background:#ffe0b2}.action-btn.disband{background:#ffebee;color:#c62828}.action-btn.disband:hover:not(:disabled){background:#ffcdd2}@media (max-width: 768px){.menu-actions{flex-direction:column}.action-btn{width:100%;text-align:center}}.recruit-dialog-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.recruit-dialog{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;width:90%;max-width:400px;overflow:hidden}.recruit-dialog-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0;background:#f5f5f5}.recruit-dialog-header h3{margin:0;font-size:18px;color:#333}.recruit-dialog-header .close-btn{background:none;border:none;font-size:24px;color:#666;cursor:pointer;padding:0;line-height:1}.recruit-dialog-header .close-btn:hover{color:#333}.recruit-dialog-content{padding:20px}.recruit-info{background:#f9f9f9;border-radius:6px;padding:12px 16px;margin-bottom:20px}.recruit-info .info-row{display:flex;justify-content:space-between;padding:4px 0}.recruit-info .label{color:#666}.recruit-info .value{font-weight:500;color:#333}.recruit-input-group{margin-bottom:16px}.recruit-input-group label{display:block;margin-bottom:8px;font-weight:500;color:#333}.recruit-slider{width:100%;height:8px;border-radius:4px;background:#e0e0e0;outline:none;margin-bottom:12px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.recruit-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:#4a90d9;cursor:pointer;border:2px solid white;box-shadow:0 2px 4px #0003}.recruit-slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#4a90d9;cursor:pointer;border:2px solid white;box-shadow:0 2px 4px #0003}.recruit-slider:disabled{opacity:.5;cursor:not-allowed}.recruit-number-input{flex:1;padding:10px 12px;border:1px solid #ccc;border-radius:4px;font-size:16px;text-align:right}.recruit-number-input:focus{outline:none;border-color:#4a90d9;box-shadow:0 0 0 2px #4a90d933}.recruit-number-input:disabled{background:#f5f5f5;cursor:not-allowed}.recruit-warning{background:#fff3cd;color:#856404;padding:10px 12px;border-radius:4px;margin-bottom:16px;font-size:14px}.recruit-preview{background:#e8f4fd;padding:12px 16px;border-radius:6px;display:flex;justify-content:space-between;align-items:center}.recruit-preview .preview-value{font-weight:600;color:#4a90d9}.recruit-dialog-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #e0e0e0;background:#f9f9f9}.recruit-dialog-footer button{padding:10px 20px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .2s}.recruit-dialog-footer .cancel-btn{background:#fff;border:1px solid #ccc;color:#666}.recruit-dialog-footer .cancel-btn:hover{background:#f5f5f5;border-color:#999}.recruit-dialog-footer .confirm-btn{background:#4a90d9;border:none;color:#fff}.recruit-dialog-footer .confirm-btn:hover:not(:disabled){background:#3a7bc8}.recruit-dialog-footer .confirm-btn:disabled{background:#ccc;cursor:not-allowed}.dialog-content{background:#fff;border-radius:12px;padding:24px;width:90%;max-width:400px;box-shadow:0 4px 20px #0003}.dialog-content h3{margin:0 0 20px;font-size:18px;color:#1a1a2e;text-align:center}.dialog-info{background:#f8f9fa;border-radius:8px;padding:16px;margin-bottom:20px}.info-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #e0e0e0}.info-row:last-child{border-bottom:none}.slider-group{margin-bottom:20px}.slider-group label{display:block;margin-bottom:12px;font-weight:500;color:#1a1a2e}.slider-group input[type=range]{width:100%;height:8px;border-radius:4px;background:#e0e0e0;outline:none;margin-bottom:12px;-webkit-appearance:none}.slider-group input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:#e74c3c;cursor:pointer}.slider-group input[type=range]::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:#e74c3c;cursor:pointer;border:none}.slider-group input[type=number]{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;text-align:center}.slider-group input[type=number]:focus{outline:none;border-color:#e74c3c}.cost-preview{display:flex;justify-content:space-between;align-items:center;padding:16px;background:#fff3e0;border-radius:8px;margin-bottom:20px}.cost-value{font-weight:600;color:#e74c3c;font-size:18px}.dialog-actions{display:flex;gap:12px}.dialog-actions button{flex:1;padding:12px;border-radius:6px;font-size:14px;cursor:pointer;transition:background .2s}.cancel-btn{background:#f0f0f0;border:none;color:#666}.cancel-btn:hover{background:#e0e0e0}.confirm-btn{background:#e74c3c;border:none;color:#fff}.confirm-btn:hover:not(:disabled){background:#c0392b}.confirm-btn:disabled{background:#ccc;cursor:not-allowed}.purchase-dialog{max-width:500px;width:90%}.treasury-info{display:flex;justify-content:space-between;padding:12px 16px;background:#f5f5f5;border-radius:8px;margin-bottom:20px;font-size:14px}.treasury-value{font-weight:700;color:#1976d2}.equipment-row{margin-bottom:16px;padding:12px;background:#fafafa;border-radius:8px}.equipment-info{display:flex;justify-content:space-between;margin-bottom:8px}.equipment-name{font-weight:500;color:#333}.equipment-price{color:#666;font-size:13px}.equipment-input{display:flex;align-items:center;gap:12px}.equipment-input input[type=range]{flex:1;height:6px;-webkit-appearance:none;background:#ddd;border-radius:3px;outline:none}.equipment-input input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;background:#1976d2;border-radius:50%;cursor:pointer}.equipment-input input[type=number]{width:80px;padding:6px 8px;border:1px solid #ddd;border-radius:4px;text-align:center;font-size:14px}.equipment-subtotal{min-width:100px;text-align:right;color:#666;font-size:13px}.total-section{margin-top:20px;padding:16px;background:#e3f2fd;border-radius:8px}.total-row,.remaining-row{display:flex;justify-content:space-between;font-size:14px}.total-row{margin-bottom:8px;font-weight:500}.total-value{font-weight:700;color:#1976d2}.total-value.over-budget{color:#d32f2f}.remaining-value{color:#388e3c}.remaining-value.negative{color:#d32f2f}.error-message{margin-top:12px;padding:8px 12px;background:#ffebee;color:#d32f2f;border-radius:4px;text-align:center;font-size:13px}.create-legion-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.create-legion-dialog{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;width:90%;max-width:500px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column}.create-legion-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0;background:#f5f5f5}.create-legion-header h3{margin:0;font-size:18px;color:#333}.create-legion-header .close-btn{background:none;border:none;font-size:24px;color:#666;cursor:pointer;padding:0;line-height:1}.create-legion-header .close-btn:hover{color:#333}.create-legion-content{padding:20px;overflow-y:auto;flex:1}.form-group label{display:block;margin-bottom:6px;font-weight:500;color:#333;font-size:14px}.form-group input[type=text],.form-group select{width:100%;padding:10px 12px;border:1px solid #ccc;border-radius:4px;font-size:14px;box-sizing:border-box}.form-group input[type=text]:focus,.form-group select:focus{outline:none;border-color:#4a90d9;box-shadow:0 0 0 2px #4a90d933}.form-group.has-error input,.form-group.has-error select,.form-group .error-input{border-color:#dc3545;animation:shake .3s ease-in-out}@keyframes shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.error-message{display:block;color:#dc3545;font-size:12px;margin-top:4px}.warning-message{display:block;color:#856404;background:#fff3cd;padding:8px 12px;border-radius:4px;font-size:12px;margin-top:8px}.form-group input[type=range]{width:100%;height:8px;border-radius:4px;background:#e0e0e0;outline:none;margin-bottom:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-group input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:#4a90d9;cursor:pointer;border:2px solid white;box-shadow:0 2px 4px #0003}.form-group input[type=range]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:#4a90d9;cursor:pointer;border:2px solid white;box-shadow:0 2px 4px #0003}.form-group input[type=range]:disabled{opacity:.5;cursor:not-allowed}.number-input-wrapper input[type=number]{flex:1;padding:8px 10px;border:1px solid #ccc;border-radius:4px;font-size:14px;text-align:right}.number-input-wrapper input[type=number]:disabled{background:#f5f5f5;cursor:not-allowed}.number-input-wrapper .unit{color:#666;font-size:14px;min-width:20px}.equipment-section{background:#f9f9f9;border-radius:6px;padding:16px;margin-bottom:16px}.equipment-section h4{margin:0 0 12px;font-size:14px;color:#666}.equipment-section .form-group{margin-bottom:12px}.equipment-section .form-group:last-child{margin-bottom:0}.equipment-section .form-group label{font-size:13px;margin-bottom:4px}.create-legion-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #e0e0e0;background:#f9f9f9}.create-legion-footer button{padding:10px 20px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .2s}.create-legion-footer .cancel-btn{background:#fff;border:1px solid #ccc;color:#666}.create-legion-footer .cancel-btn:hover{background:#f5f5f5;border-color:#999}.create-legion-footer .confirm-btn{background:#4a90d9;border:none;color:#fff}.create-legion-footer .confirm-btn:hover:not(:disabled){background:#3a7bc8}.create-legion-footer .confirm-btn:disabled{background:#ccc;cursor:not-allowed}.conflict-dialog-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:1100}.conflict-dialog{background:#fff;border-radius:8px;box-shadow:0 4px 20px #0003;width:90%;max-width:400px;overflow:hidden}.conflict-dialog-header{padding:16px 20px;border-bottom:1px solid #e0e0e0;background:#fff3cd}.conflict-dialog-header h3{margin:0;font-size:16px;color:#856404}.conflict-dialog-content{padding:20px}.conflict-dialog-content p{margin:0 0 12px;color:#333;line-height:1.5}.conflict-dialog-content .warning-text{color:#dc3545;font-weight:500}.conflict-dialog-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #e0e0e0;background:#f9f9f9}.conflict-dialog-footer button{padding:10px 20px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .2s}.conflict-dialog-footer .cancel-btn{background:#fff;border:1px solid #ccc;color:#666}.conflict-dialog-footer .cancel-btn:hover{background:#f5f5f5}.conflict-dialog-footer .danger-btn{background:#dc3545;border:none;color:#fff}.conflict-dialog-footer .danger-btn:hover{background:#c82333}.edit-soldiers-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.edit-soldiers-dialog{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;width:90%;max-width:420px;overflow:hidden}.edit-soldiers-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0;background:#f5f5f5}.edit-soldiers-header h3{margin:0;font-size:16px;color:#333}.edit-soldiers-header .close-btn{background:none;border:none;font-size:24px;color:#666;cursor:pointer;padding:0;line-height:1}.edit-soldiers-content{padding:20px}.info-section{background:#f9f9f9;border-radius:6px;padding:12px 16px;margin-bottom:16px}.info-section .info-row{display:flex;justify-content:space-between;padding:4px 0;font-size:14px}.info-section .label{color:#666}.info-section .value{font-weight:500;color:#333}.input-section{margin-bottom:16px}.input-section label{display:block;margin-bottom:8px;font-weight:500;color:#333}.input-section input[type=range]{width:100%;height:8px;border-radius:4px;background:#e0e0e0;outline:none;margin-bottom:12px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.input-section input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:#4a90d9;cursor:pointer;border:2px solid white;box-shadow:0 2px 4px #0003}.number-input-wrapper{display:flex;align-items:center;gap:8px}.number-input-wrapper input[type=number]{flex:1;padding:10px 12px;border:1px solid #ccc;border-radius:4px;font-size:16px;text-align:right}.number-input-wrapper .unit{color:#666;font-size:14px}.preview-section{margin-bottom:16px}.preview-item{display:flex;justify-content:space-between;padding:10px 14px;border-radius:6px;font-size:14px}.preview-item.increase{background:#e8f5e9;color:#2e7d32}.preview-item.decrease{background:#fff3e0;color:#ef6c00}.preview-item.unchanged{background:#f5f5f5;color:#666;justify-content:center}.warning-section{background:#fff3cd;color:#856404;padding:10px 14px;border-radius:6px;font-size:14px}.edit-soldiers-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #e0e0e0;background:#f9f9f9}.edit-soldiers-footer button{padding:10px 20px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .2s}.edit-soldiers-footer .cancel-btn{background:#fff;border:1px solid #ccc;color:#666}.edit-soldiers-footer .cancel-btn:hover{background:#f5f5f5}.edit-soldiers-footer .confirm-btn{background:#4a90d9;border:none;color:#fff}.edit-soldiers-footer .confirm-btn:hover:not(:disabled){background:#3a7bc8}.edit-soldiers-footer .confirm-btn:disabled{background:#ccc;cursor:not-allowed}.disband-confirm-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:1100}.disband-confirm-dialog{background:#fff;border-radius:8px;box-shadow:0 4px 20px #0003;width:90%;max-width:380px;overflow:hidden}.disband-confirm-header{padding:16px 20px;border-bottom:1px solid #e0e0e0;background:#ffebee}.disband-confirm-header h3{margin:0;font-size:16px;color:#c62828}.disband-confirm-content{padding:20px}.disband-confirm-content p{margin:0 0 12px;color:#333;line-height:1.5}.disband-confirm-content ul{margin:0 0 12px;padding-left:20px;color:#666}.disband-confirm-content li{margin:4px 0}.disband-confirm-content .warning-text{color:#c62828;font-weight:500}.disband-confirm-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #e0e0e0;background:#f9f9f9}.disband-confirm-footer button{padding:10px 20px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .2s}.disband-confirm-footer .cancel-btn{background:#fff;border:1px solid #ccc;color:#666}.disband-confirm-footer .danger-btn{background:#c62828;border:none;color:#fff}.disband-confirm-footer .danger-btn:hover{background:#b71c1c}.edit-equipment-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.edit-equipment-dialog{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;width:90%;max-width:450px;overflow:hidden}.edit-equipment-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0;background:#f5f5f5}.edit-equipment-header h3{margin:0;font-size:16px;color:#333}.edit-equipment-header .close-btn{background:none;border:none;font-size:24px;color:#666;cursor:pointer;padding:0;line-height:1}.edit-equipment-content{padding:20px}.equipment-item{margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid #eee}.equipment-item:last-child{margin-bottom:0;padding-bottom:0;border-bottom:none}.equipment-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.equipment-name{font-weight:600;color:#333;font-size:14px}.equipment-info{font-size:12px;color:#666}.equipment-item input[type=range]{width:100%;height:8px;border-radius:4px;background:#e0e0e0;outline:none;margin-bottom:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none}.equipment-item input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:#4a90d9;cursor:pointer;border:2px solid white;box-shadow:0 2px 4px #0003}.number-input-wrapper{display:flex;align-items:center;gap:10px}.number-input-wrapper input[type=number]{flex:1;padding:8px 12px;border:1px solid #ccc;border-radius:4px;font-size:14px;text-align:right}.number-input-wrapper input[type=number]:focus{outline:none;border-color:#4a90d9;box-shadow:0 0 0 2px #4a90d933}.number-input-wrapper .diff{font-size:13px;font-weight:500;min-width:50px;text-align:right}.number-input-wrapper .diff.increase{color:#2e7d32}.number-input-wrapper .diff.decrease{color:#ef6c00}.edit-equipment-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #e0e0e0;background:#f9f9f9}.edit-equipment-footer button{padding:10px 20px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .2s}.edit-equipment-footer .cancel-btn{background:#fff;border:1px solid #ccc;color:#666}.edit-equipment-footer .cancel-btn:hover{background:#f5f5f5}.edit-equipment-footer .confirm-btn{background:#4a90d9;border:none;color:#fff}.edit-equipment-footer .confirm-btn:hover:not(:disabled){background:#3a7bc8}.edit-equipment-footer .confirm-btn:disabled{background:#ccc;cursor:not-allowed}.disband-legion-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.disband-legion-dialog{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;width:90%;max-width:400px;overflow:hidden}.disband-legion-header{padding:16px 20px;border-bottom:1px solid #e0e0e0;background:#ffebee}.disband-legion-header h3{margin:0;font-size:16px;color:#c62828}.disband-legion-content{padding:20px}.disband-legion-content p{margin:0 0 12px;color:#333;line-height:1.5}.return-resources{background:#f5f5f5;border-radius:6px;padding:12px 16px;margin-bottom:12px}.return-resources p{margin:0 0 8px;font-size:14px;color:#666}.return-resources ul{margin:0;padding:0;list-style:none}.return-resources li{display:flex;justify-content:space-between;padding:4px 0;font-size:14px}.return-resources .resource-name{color:#666}.return-resources .resource-value{font-weight:500;color:#333}.commander-info{font-size:14px;color:#666}.warning-text{color:#c62828;font-weight:500}.disband-legion-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #e0e0e0;background:#f9f9f9}.disband-legion-footer button{padding:10px 20px;border-radius:4px;font-size:14px;cursor:pointer;transition:all .2s}.disband-legion-footer .cancel-btn{background:#fff;border:1px solid #ccc;color:#666}.disband-legion-footer .cancel-btn:hover{background:#f5f5f5}.disband-legion-footer .danger-btn{background:#c62828;border:none;color:#fff}.disband-legion-footer .danger-btn:hover{background:#b71c1c}.investment-panel{background:#fff;border-radius:8px;padding:20px}.investment-panel.loading,.investment-panel.error{text-align:center;padding:40px;color:#666}.investment-panel.error button{margin-top:10px;padding:8px 16px;background:#4a90d9;color:#fff;border:none;border-radius:4px;cursor:pointer}.investment-status{margin-bottom:24px}.investment-status h3{margin:0 0 12px;font-size:16px;color:#333}.status-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}.status-item{background:#f5f5f5;padding:12px;border-radius:6px;display:flex;flex-direction:column;gap:4px}.status-item .value{font-size:14px;font-weight:600;color:#333}.investment-form h3{margin:0 0 16px;font-size:16px;color:#333}.form-group label{display:block;margin-bottom:8px;font-size:14px;color:#333;font-weight:500}.type-buttons{display:flex;gap:8px;flex-wrap:wrap}.type-btn{padding:10px 20px;border:2px solid #ddd;background:#fff;border-radius:6px;cursor:pointer;font-size:14px;transition:all .2s}.type-btn.selected{border-color:#4a90d9;background:#4a90d9;color:#fff}.form-group select{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;background:#fff}.no-samurai{color:#999;font-style:italic;margin:0}.amount-input{display:flex;align-items:center;gap:12px}.amount-input input[type=range]{flex:1;height:6px;-webkit-appearance:none;background:#ddd;border-radius:3px}.amount-input input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;background:#4a90d9;border-radius:50%;cursor:pointer}.amount-input input[type=number]{width:100px;padding:8px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;text-align:right}.amount-input .unit{color:#666;font-size:14px}.investment-preview{background:#f9f9f9;border-radius:8px;padding:16px;margin-bottom:16px}.investment-preview h4{margin:0 0 12px;font-size:14px;color:#333}.preview-content{display:flex;flex-direction:column;gap:8px}.preview-row{display:flex;justify-content:space-between;font-size:14px}.preview-row span:first-child{color:#666}.preview-row span:last-child{font-weight:500;color:#333}.success-rate{color:#4a90d9!important;font-size:16px!important}.preview-outcomes{display:flex;gap:12px;margin-top:12px;padding-top:12px;border-top:1px solid #eee}.outcome{flex:1;text-align:center;padding:8px;border-radius:6px}.outcome.critical{background:#fff3cd}.outcome.success{background:#d4edda}.outcome.failure{background:#f8d7da}.outcome-label{display:block;font-size:12px;color:#666;margin-bottom:4px}.outcome-value{display:block;font-size:14px;font-weight:600}.preview-error{color:#dc3545;font-size:14px}.execute-btn{width:100%;padding:12px;background:#4a90d9;color:#fff;border:none;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:background .2s}.execute-btn:hover:not(:disabled){background:#3a7bc8}.execute-btn:disabled{background:#ccc;cursor:not-allowed}.dialog-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.dialog{background:#fff;border-radius:12px;padding:24px;max-width:400px;width:90%;box-shadow:0 4px 20px #00000026}.dialog h3{margin:0 0 16px;font-size:18px;color:#333}.dialog p{margin:8px 0;color:#666}.dialog-buttons{display:flex;gap:12px;margin-top:20px}.dialog-buttons button{flex:1;padding:10px;border:none;border-radius:6px;font-size:14px;cursor:pointer;transition:background .2s}.cancel-btn{background:#f0f0f0;color:#333}.cancel-btn:hover:not(:disabled){background:#e0e0e0}.confirm-btn{background:#4a90d9;color:#fff}.confirm-btn:hover:not(:disabled){background:#3a7bc8}.confirm-btn:disabled,.cancel-btn:disabled{opacity:.6;cursor:not-allowed}.result-dialog{text-align:center}.result-dialog h3{font-size:24px;margin-bottom:20px}.result-dialog.critical_success h3{color:#ffc107}.result-dialog.success h3{color:#28a745}.result-dialog.failure h3{color:#dc3545}.result-content{margin-bottom:20px}.roll-result{font-size:20px;font-weight:700;color:#333;margin-bottom:12px!important}.points-gained{font-size:18px;color:#4a90d9;font-weight:600}.new-level{font-size:14px;color:#666}.close-btn{width:100%;padding:12px;background:#4a90d9;color:#fff;border:none;border-radius:6px;font-size:16px;cursor:pointer}.close-btn:hover{background:#3a7bc8}.error-report-button{position:fixed;bottom:20px;right:20px;padding:10px 16px;background:#e74c3c;color:#fff;border:none;border-radius:20px;font-size:14px;cursor:pointer;box-shadow:0 2px 8px #e74c3c4d;transition:transform .2s,box-shadow .2s;z-index:1000}.error-report-button:hover{transform:translateY(-2px);box-shadow:0 4px 12px #e74c3c66}.error-report-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1001}.error-report-dialog{background:#fff;border-radius:12px;padding:24px;width:90%;max-width:400px;box-shadow:0 10px 40px #0003}.error-report-dialog h3{margin:0 0 12px;color:#333;font-size:18px}.error-report-hint{color:#666;font-size:14px;margin-bottom:16px;line-height:1.5}.error-report-textarea{width:100%;padding:12px;border:1px solid #ddd;border-radius:8px;font-size:14px;resize:vertical;font-family:inherit;box-sizing:border-box}.error-report-textarea:focus{outline:none;border-color:#e74c3c}.error-report-result{margin-top:12px;padding:10px;border-radius:6px;font-size:14px;text-align:center}.error-report-result.success{background:#d4edda;color:#155724}.error-report-result.error{background:#f8d7da;color:#721c24}.error-report-actions{display:flex;gap:12px;margin-top:16px;justify-content:flex-end}.error-report-cancel{padding:10px 20px;background:#f0f0f0;color:#333;border:none;border-radius:6px;font-size:14px;cursor:pointer}.error-report-cancel:hover{background:#e0e0e0}.error-report-submit{padding:10px 20px;background:#e74c3c;color:#fff;border:none;border-radius:6px;font-size:14px;cursor:pointer}.error-report-submit:hover:not(:disabled){background:#c0392b}.error-report-submit:disabled{opacity:.7;cursor:not-allowed}.income-expense-breakdown{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px #00000014;margin-top:20px}.breakdown-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;background:#f8f9fa;cursor:pointer;transition:background .2s;border-bottom:1px solid #e0e0e0}.breakdown-header:hover{background:#f0f0f0}.breakdown-title{font-size:16px;font-weight:600;color:#1a1a2e}.net-income{font-size:14px;font-weight:600}.net-income.positive{color:#27ae60}.net-income.negative{color:#e74c3c}.breakdown-content{padding:20px}.breakdown-section{margin-bottom:20px}.breakdown-section:last-of-type{margin-bottom:16px}.section-title{font-size:14px;font-weight:600;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid #e0e0e0}.section-title.income-title{color:#27ae60}.section-title.expense-title{color:#e74c3c}.section-title.bonus-title{color:#f39c12}.breakdown-items{display:flex;flex-direction:column;gap:8px}.breakdown-item{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#f8f9fa;border-radius:6px}.item-info{display:flex;flex-direction:column;gap:2px}.item-name{font-size:14px;color:#1a1a2e}.item-note{font-size:12px;color:#888}.item-value{font-size:14px;font-weight:600}.item-value.positive{color:#27ae60}.item-value.negative{color:#e74c3c}.breakdown-subtotal{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#e8f5e9;border-radius:6px;font-weight:500;margin-top:8px}.breakdown-subtotal .positive{color:#27ae60}.breakdown-subtotal .negative{color:#e74c3c}.breakdown-total{display:flex;justify-content:space-between;align-items:center;padding:16px;background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:8px;color:#fff;font-size:16px;font-weight:600}.breakdown-total .positive{color:#4ade80}.breakdown-total .negative{color:#f87171}.growth-rate{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#fff8e1;border-radius:8px;margin-top:12px;font-size:14px}.growth-rate .positive{color:#27ae60;font-weight:600}.growth-rate .negative{color:#e74c3c;font-weight:600}@media (max-width: 480px){.breakdown-header{flex-direction:column;gap:8px;align-items:flex-start}.breakdown-item{flex-direction:column;align-items:flex-start;gap:8px}.item-value{align-self:flex-end}}.dashboard{min-height:100vh;background-color:#f5f5f5}.dashboard-header{background:linear-gradient(135deg,#1a1a2e,#16213e);color:#fff;padding:20px 30px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 10px #0003}.header-left h1{font-size:24px;margin-bottom:4px}.lord-name{font-size:14px;opacity:.8}.logout-btn{padding:8px 16px;background:#ffffff1a;border:1px solid rgba(255,255,255,.3);color:#fff;border-radius:6px;cursor:pointer;transition:background .2s}.logout-btn:hover{background:#fff3}.admin-btn{padding:8px 16px;background:#4a90d9;border:none;color:#fff;border-radius:6px;cursor:pointer;transition:background .2s;margin-right:12px}.admin-btn:hover{background:#3a7bc8}.header-right{display:flex;align-items:center}.dashboard-content{max-width:1200px;margin:0 auto;padding:24px}.info-section{background:#fff;border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 2px 8px #00000014}.info-section h2{font-size:18px;color:#1a1a2e;margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid #f0f0f0}.section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid #f0f0f0}.section-header h2{font-size:18px;color:#1a1a2e;margin:0;padding:0;border:none}.recruit-btn{padding:8px 16px;background:#4a90d9;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:background .2s}.recruit-btn:hover{background:#3a7bc8}.disband-btn{padding:8px 16px;background:#e74c3c;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:background .2s}.disband-btn:hover{background:#c0392b}.section-buttons{display:flex;gap:8px}.info-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px}.info-card{background:#f8f9fa;border-radius:8px;padding:16px;text-align:center}.info-label{font-size:12px;color:#666;margin-bottom:8px}.info-value{font-size:24px;font-weight:600;color:#1a1a2e}.info-unit{font-size:14px;font-weight:400;color:#888;margin-left:4px}.info-sub{font-size:12px;color:#888;margin-top:4px}.buffs-list{display:flex;flex-direction:column;gap:8px}.buff-item{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#f8f9fa;border-radius:8px}.buff-name{font-weight:500;color:#1a1a2e}.buff-effect{color:#27ae60;font-size:14px}.detail-list{display:flex;flex-direction:column;gap:8px}.detail-row{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #f0f0f0}.detail-row:last-child{border-bottom:none}.detail-label{color:#666;font-size:14px}.detail-value{font-weight:500;color:#1a1a2e}.detail-unit{font-size:12px;color:#888;margin-left:4px}.dashboard-loading{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f5f5f5}.loading-spinner{width:40px;height:40px;border:3px solid #e0e0e0;border-top-color:#1a1a2e;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}.dashboard-error{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f5f5f5;gap:16px}.dashboard-error p{color:#e74c3c;font-size:16px}.dashboard-error button{padding:10px 20px;background:#1a1a2e;color:#fff;border:none;border-radius:6px;cursor:pointer;margin:0 8px}.dashboard-error button:hover{background:#16213e}@media (max-width: 768px){.dashboard-header{flex-direction:column;gap:16px;text-align:center}.info-grid{grid-template-columns:repeat(2,1fr)}.info-value{font-size:20px}}@media (max-width: 480px){.info-grid{grid-template-columns:1fr}}.purchase-btn{padding:8px 16px;background:#27ae60;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:background .2s}.purchase-btn:hover{background:#219a52}.tax-rate-card{cursor:pointer;transition:background .2s,transform .1s}.tax-rate-card:hover{background:#e8f4fd;transform:translateY(-2px)}.info-value.clickable{display:flex;align-items:center;justify-content:center;gap:8px}.edit-icon{font-size:14px;opacity:.6}.tax-rate-card:hover .edit-icon{opacity:1}.info-sub.warning{color:#e67e22}.tax-rate-selector{margin-top:16px;padding:16px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0}.selector-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;font-weight:500}.selector-header .close-btn{background:none;border:none;font-size:20px;cursor:pointer;color:#666;padding:0 4px}.selector-header .close-btn:hover{color:#333}.rate-options{display:flex;gap:12px;margin-bottom:12px}.rate-option{flex:1;padding:12px 16px;background:#fff;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;font-size:16px;font-weight:500;transition:all .2s;display:flex;flex-direction:column;align-items:center;gap:4px}.rate-option:hover:not(:disabled){border-color:#4a90d9;background:#e8f4fd}.rate-option.current{border-color:#27ae60;background:#e8f8f0;cursor:default}.rate-option:disabled{opacity:.6;cursor:not-allowed}.current-label{font-size:11px;color:#27ae60;font-weight:400}.selector-note{font-size:12px;color:#e67e22;text-align:center}.create-legion-btn{padding:8px 16px;background:#9b59b6;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:14px;transition:background .2s}.create-legion-btn:hover{background:#8e44ad}.empty-list{text-align:center;padding:24px;color:#888;font-size:14px}.admin-panel{min-height:100vh;background:#f5f7fa}.admin-header{display:flex;align-items:center;gap:20px;padding:16px 24px;background:#fff;border-bottom:1px solid #e0e0e0;box-shadow:0 2px 4px #0000000d}.admin-header h1{margin:0;font-size:20px;color:#1a1a2e}.back-btn{padding:8px 16px;background:#f0f0f0;border:none;border-radius:6px;font-size:14px;color:#666;cursor:pointer;transition:all .2s ease}.back-btn:hover{background:#e0e0e0;color:#333}.admin-tabs{display:flex;gap:4px;padding:12px 24px;background:#fff;border-bottom:1px solid #e0e0e0}.tab-btn{padding:10px 20px;background:transparent;border:none;border-radius:6px;font-size:14px;font-weight:500;color:#666;cursor:pointer;transition:all .2s ease}.tab-btn:hover{background:#f5f7fa;color:#333}.tab-btn.active{background:#4a90d9;color:#fff}.admin-content{padding:24px;max-width:1400px;margin:0 auto}.management-section{background:#fff;border-radius:12px;box-shadow:0 2px 8px #00000014;overflow:hidden}.management-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0}.management-header h2{margin:0;font-size:16px;color:#1a1a2e}.management-actions{display:flex;gap:8px}.management-body{padding:20px}.filter-section{display:flex;flex-wrap:wrap;gap:12px;margin-bottom:20px;padding:16px;background:#f8f9fa;border-radius:8px}.filter-group{display:flex;flex-direction:column;gap:4px}.filter-group label{font-size:12px;color:#666}.filter-group input,.filter-group select{padding:8px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;min-width:150px}.filter-group input:focus,.filter-group select:focus{outline:none;border-color:#4a90d9}.filter-actions{display:flex;align-items:flex-end;gap:8px}.btn{padding:8px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.btn-primary{background:#4a90d9;color:#fff}.btn-primary:hover{background:#3a7bc8}.btn-secondary{background:#f0f0f0;color:#333}.btn-secondary:hover{background:#e0e0e0}.btn-danger{background:#dc3545;color:#fff}.btn-danger:hover{background:#c82333}.btn-success{background:#28a745;color:#fff}.btn-success:hover{background:#218838}.btn-sm{padding:4px 10px;font-size:12px}.action-cell{display:flex;gap:4px}.modal-content{background:#fff;border-radius:12px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:0 4px 20px #00000026}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0}.modal-header h3{margin:0;font-size:18px;color:#1a1a2e}.modal-close{background:none;border:none;font-size:24px;color:#999;cursor:pointer;padding:0;line-height:1}.modal-close:hover{color:#333}.modal-body{padding:20px}.modal-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 20px;border-top:1px solid #e0e0e0}.form-group label{display:block;margin-bottom:6px;font-size:14px;font-weight:500;color:#333}.form-group input,.form-group select,.form-group textarea{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;box-sizing:border-box}.form-group input:focus,.form-group select:focus,.form-group textarea:focus{outline:none;border-color:#4a90d9}.form-row{display:flex;gap:16px}.form-row .form-group{flex:1}.form-hint{font-size:12px;color:#999;margin-top:4px}.form-error{font-size:12px;color:#dc3545;margin-top:4px}.loading-container{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;color:#666}.loading-spinner{width:32px;height:32px;border:3px solid #f0f0f0;border-top-color:#4a90d9;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:12px}.empty-state{text-align:center;padding:40px;color:#999}.empty-state p{margin:0 0 16px}@media (max-width: 768px){.admin-header{flex-direction:column;align-items:flex-start;gap:12px}.admin-tabs{overflow-x:auto;padding:12px 16px}.tab-btn{white-space:nowrap}.admin-content{padding:16px}.filter-section{flex-direction:column}.filter-group,.filter-group input,.filter-group select{width:100%}.form-row{flex-direction:column;gap:0}.modal-content{width:95%;margin:16px}}.samurai-management-dialog{max-width:1000px;max-height:80vh;overflow-y:auto}.samurai-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid #e0e0e0}.samurai-header h4{margin:0;color:#333}.samurai-table{overflow-x:auto}.samurai-table table{width:100%;border-collapse:collapse;margin-bottom:20px}.samurai-table th,.samurai-table td{padding:12px 8px;text-align:left;border-bottom:1px solid #e0e0e0}.samurai-table th{background-color:#f5f5f5;font-weight:600;color:#333}.samurai-table td{color:#666}.samurai-table tr:hover{background-color:#f9f9f9}.status-idle{color:#28a745;font-weight:500}.status-busy{color:#dc3545;font-weight:500}.action-points-full{color:#28a745;font-weight:700}.action-points-partial{color:#ffc107;font-weight:700}.action-points-empty{color:#dc3545;font-weight:700}.samurai-table .btn{margin-right:8px;padding:4px 8px;font-size:12px}.samurai-table .btn:last-child{margin-right:0}.form-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1001}.form-content{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;width:90%;max-width:600px;max-height:80vh;overflow-y:auto}.form-header{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:1px solid #e0e0e0}.form-header h4{margin:0;color:#333}.form-close{background:none;border:none;font-size:24px;color:#999;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center}.form-close:hover{color:#666}.form-body{padding:20px}.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.form-group{display:flex;flex-direction:column}.form-group label{margin-bottom:4px;font-weight:500;color:#333;font-size:14px}.form-group input,.form-group select{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group input:focus,.form-group select:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.form-footer{display:flex;justify-content:flex-end;gap:12px;padding:20px;border-top:1px solid #e0e0e0}.empty-state{text-align:center;padding:40px 20px;color:#999;font-size:16px}@media (max-width: 768px){.samurai-management-dialog{width:95%;max-width:none;margin:10px}.samurai-header{flex-direction:column;align-items:stretch;gap:10px}.samurai-table{font-size:14px}.samurai-table th,.samurai-table td{padding:8px 4px}.form-grid{grid-template-columns:1fr}.form-content{width:95%;margin:10px}}.faction-full-management{padding:16px}.faction-full-management .management-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.faction-full-management .management-header h2{margin:0;font-size:18px;color:#1a1a2e}.faction-cards{display:flex;flex-direction:column;gap:20px}.faction-card{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #00000014;border:1px solid #e0e0e0}.faction-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:12px;border-bottom:2px solid #f0f0f0}.faction-card-header h3{margin:0;font-size:18px;color:#1a1a2e}.faction-actions{display:flex;gap:8px}.faction-row{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:16px;padding:12px;background:#f8f9fa;border-radius:8px}.faction-field{display:flex;flex-direction:column;gap:4px}.faction-field label{font-size:12px;color:#666}.faction-field span{font-size:14px;font-weight:500;color:#1a1a2e}.faction-field span.code{font-family:monospace;background:#e8f5e9;padding:2px 6px;border-radius:4px;color:#2e7d32}.faction-buffs{margin-top:12px;padding:12px;background:#fff8e1;border-radius:8px}.faction-buffs>label{display:block;font-size:12px;color:#666;margin-bottom:8px}.faction-buffs .buffs-list{display:flex;flex-wrap:wrap;gap:8px}.buff-tag{font-size:12px;padding:4px 8px;background:#fff;border:1px solid #ffc107;border-radius:4px;color:#f57c00}.modal-large{max-width:700px;width:90%}.edit-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}.edit-grid .form-group{margin-bottom:0}.edit-grid .form-group label{display:block;font-size:12px;color:#666;margin-bottom:4px}.edit-grid .form-group input,.edit-grid .form-group select{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px}.edit-grid .form-group input:focus,.edit-grid .form-group select:focus{outline:none;border-color:#4a90d9}@media (max-width: 768px){.faction-row,.edit-grid{grid-template-columns:repeat(2,1fr)}}@media (max-width: 480px){.faction-row,.edit-grid{grid-template-columns:1fr}}.game-progress-control{padding:16px}.progress-tabs{display:flex;gap:8px;margin-bottom:16px;border-bottom:1px solid #e0e0e0;padding-bottom:8px}.progress-tabs .tab-btn{padding:8px 16px;border:none;background:none;cursor:pointer;font-size:14px;color:#666;border-radius:4px 4px 0 0;transition:all .2s}.progress-tabs .tab-btn:hover{background:#f5f5f5;color:#333}.progress-tabs .tab-btn.active{background:#1976d2;color:#fff}.error-message{background:#ffebee;color:#c62828;padding:12px;border-radius:4px;margin-bottom:16px}.control-panel{display:flex;flex-direction:column;gap:24px}.status-card{background:#fff;border-radius:8px;padding:20px;box-shadow:0 2px 4px #0000001a}.status-card h3{margin:0 0 16px;font-size:18px;color:#333}.status-info{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:16px}.status-item{display:flex;flex-direction:column;gap:4px}.status-item .label{font-size:12px;color:#666}.status-item .value{font-size:18px;font-weight:600;color:#333}.status-item .value.locked{color:#f44336}.status-item .value.unlocked{color:#4caf50}.control-actions{display:flex;gap:16px}.action-btn{padding:12px 24px;border:none;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:all .2s}.action-btn:disabled{opacity:.5;cursor:not-allowed}.action-btn.lock{background:#ff9800;color:#fff}.action-btn.lock:hover:not(:disabled){background:#f57c00}.action-btn.unlock{background:#4caf50;color:#fff}.action-btn.unlock:hover:not(:disabled){background:#388e3c}.action-btn.advance{background:#1976d2;color:#fff}.action-btn.advance:hover:not(:disabled){background:#1565c0}.accounting-panel{display:flex;flex-direction:column;gap:16px}.accounting-header{background:#fff;padding:16px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.filter-row{display:flex;gap:12px;align-items:center}.filter-row select{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px}.add-btn{padding:8px 16px;background:#1976d2;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;margin-left:auto}.add-btn:hover{background:#1565c0}.accounting-list{display:flex;flex-direction:column;gap:12px}.log-item{background:#fff;padding:16px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.log-header{display:flex;gap:12px;align-items:center;margin-bottom:8px}.log-year{font-weight:600;color:#1976d2}.log-faction{color:#666}.log-calc{padding:2px 8px;border-radius:4px;font-size:12px}.log-calc.yes{background:#e3f2fd;color:#1976d2}.log-calc.no{background:#f5f5f5;color:#666}.log-content{color:#333;line-height:1.5;margin-bottom:8px}.log-footer{display:flex;justify-content:space-between;align-items:center}.log-time{font-size:12px;color:#999}.delete-btn{padding:4px 12px;background:none;border:1px solid #f44336;color:#f44336;border-radius:4px;cursor:pointer;font-size:12px}.delete-btn:hover{background:#ffebee}.operations-panel h3{margin:0 0 16px;font-size:16px;color:#333}.operations-list{display:flex;flex-direction:column;gap:8px}.operation-item{background:#fff;padding:12px 16px;border-radius:8px;box-shadow:0 2px 4px #0000001a;display:flex;align-items:center;gap:16px}.operation-item.has-snapshot{border-left:3px solid #4caf50}.op-header{display:flex;gap:8px;align-items:center;flex:1}.op-action{font-weight:500;color:#333}.op-user{font-size:12px;color:#666;padding:2px 8px;background:#f5f5f5;border-radius:4px}.op-time{font-size:12px;color:#999;min-width:150px}.rollback-btn{padding:6px 12px;background:#ff9800;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:12px}.rollback-btn:hover{background:#f57c00}.empty-message{text-align:center;color:#999;padding:40px}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal{background:#fff;border-radius:8px;padding:24px;max-width:500px;width:90%;max-height:80vh;overflow-y:auto}.modal h3{margin:0 0 16px;font-size:18px;color:#333}.modal ul{margin:0 0 16px;padding-left:20px}.modal li{margin-bottom:8px;color:#666}.modal-actions{display:flex;gap:12px;justify-content:flex-end;margin-top:20px}.modal-actions button{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px}.modal-actions button:first-child{background:#f5f5f5;color:#333}.modal-actions button.confirm{background:#1976d2;color:#fff}.modal-actions button.danger{background:#f44336;color:#fff}.modal-actions button:disabled{opacity:.5;cursor:not-allowed}.form-group{margin-bottom:16px}.form-group label{display:block;margin-bottom:6px;font-size:14px;color:#333}.form-group select,.form-group textarea{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.form-group textarea{resize:vertical;min-height:80px}.form-group.checkbox label{display:flex;align-items:center;gap:8px;cursor:pointer}.form-group.checkbox input{width:16px;height:16px}.settlement-modal{max-width:600px}.settlement-results{max-height:400px;overflow-y:auto}.faction-settlement{background:#f5f5f5;padding:12px;border-radius:4px;margin-bottom:12px}.faction-settlement h4{margin:0 0 8px;font-size:14px;color:#333}.settlement-detail{display:flex;flex-direction:column;gap:4px;font-size:13px;color:#666}.rollback-info{background:#f5f5f5;padding:12px;border-radius:4px;margin:12px 0}.rollback-info p{margin:4px 0;font-size:14px}.warning{color:#f44336;font-weight:500}.data-import{padding:20px}.data-import h2{margin:0 0 20px;color:#333;font-size:1.5rem}.import-type-selector{display:flex;gap:10px;margin-bottom:20px}.type-btn{padding:12px 24px;border:2px solid #ddd;border-radius:8px;background:#fff;cursor:pointer;font-size:1rem;transition:all .2s}.type-btn:hover{border-color:#4a90d9;background:#f0f7ff}.type-btn.active{border-color:#4a90d9;background:#4a90d9;color:#fff}.template-info{background:#f5f5f5;border-radius:8px;padding:15px;margin-bottom:20px}.template-info h3{margin:0 0 10px;font-size:1rem;color:#666}.template-info p{margin:0 0 10px;color:#666;font-size:.9rem}.template-header{background:#fff;border:1px solid #ddd;border-radius:4px;padding:10px;font-family:monospace;font-size:.85rem;overflow-x:auto;white-space:nowrap}.import-input-section{margin-bottom:20px}.import-input-section label{display:block;margin-bottom:8px;font-weight:500;color:#333}.import-textarea{width:100%;min-height:200px;padding:12px;border:2px solid #ddd;border-radius:8px;font-family:monospace;font-size:.9rem;resize:vertical;box-sizing:border-box}.import-textarea:focus{outline:none;border-color:#4a90d9}.import-textarea::placeholder{color:#999}.import-actions{display:flex;gap:10px;margin-bottom:20px}.preview-btn,.import-btn{padding:12px 24px;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:all .2s}.preview-btn{background:#6c757d;color:#fff}.preview-btn:hover:not(:disabled){background:#5a6268}.import-btn{background:#28a745;color:#fff}.import-btn:hover:not(:disabled){background:#218838}.preview-btn:disabled,.import-btn:disabled{opacity:.5;cursor:not-allowed}.overwrite-option{display:flex;align-items:center;gap:8px;margin-left:auto}.overwrite-option input[type=checkbox]{width:18px;height:18px;cursor:pointer}.overwrite-option label{cursor:pointer;color:#666}.preview-result{background:#f8f9fa;border-radius:8px;padding:15px;margin-bottom:20px}.preview-result h3{margin:0 0 10px;font-size:1rem;color:#333}.preview-stats{display:flex;gap:20px;margin-bottom:15px}.preview-stats span{color:#666}.preview-stats .count{font-weight:600;color:#333}.preview-table-container{max-height:300px;overflow:auto;border:1px solid #ddd;border-radius:4px}.preview-table{width:100%;border-collapse:collapse;font-size:.85rem}.preview-table th,.preview-table td{padding:8px 12px;text-align:left;border-bottom:1px solid #eee;white-space:nowrap}.preview-table th{background:#f5f5f5;font-weight:600;position:sticky;top:0}.preview-table tr:hover{background:#f8f9fa}.import-messages{margin-bottom:20px}.error-list,.warning-list{border-radius:8px;padding:15px;margin-bottom:10px}.error-list{background:#fff5f5;border:1px solid #ffcdd2}.warning-list{background:#fffde7;border:1px solid #fff59d}.error-list h4,.warning-list h4{margin:0 0 10px;font-size:.95rem}.error-list h4{color:#c62828}.warning-list h4{color:#f57f17}.error-list ul,.warning-list ul{margin:0;padding-left:20px}.error-list li{color:#c62828;margin-bottom:5px}.warning-list li{color:#f57f17;margin-bottom:5px}.import-result{border-radius:8px;padding:20px;text-align:center}.import-result.success{background:#e8f5e9;border:1px solid #a5d6a7}.import-result.partial{background:#fffde7;border:1px solid #fff59d}.import-result.error{background:#fff5f5;border:1px solid #ffcdd2}.import-result h3{margin:0 0 10px}.import-result.success h3{color:#2e7d32}.import-result.partial h3{color:#f57f17}.import-result.error h3{color:#c62828}.import-result p{margin:0;color:#666}.loading-overlay{display:flex;align-items:center;justify-content:center;gap:10px;padding:20px;color:#666}.spinner{width:20px;height:20px;border:2px solid #ddd;border-top-color:#4a90d9;border-radius:50%;animation:spin 1s linear infinite}.error-report-panel{padding:20px}.error-report-panel h2{margin:0 0 20px;color:#333}.error-report-filters{display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap}.error-report-filters select{padding:8px 12px;border:1px solid #ddd;border-radius:6px;font-size:14px;min-width:120px}.error-report-filters button{padding:8px 16px;background:#1a1a2e;color:#fff;border:none;border-radius:6px;cursor:pointer}.error-report-filters button:hover{background:#16213e}.error-report-content{display:grid;grid-template-columns:1fr 1fr;gap:20px}@media (max-width: 900px){.error-report-content{grid-template-columns:1fr}}.error-report-list{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;max-height:600px;overflow-y:auto}.no-reports{padding:40px;text-align:center;color:#888}.error-report-item{padding:16px;border-bottom:1px solid #eee;cursor:pointer;transition:background-color .2s}.error-report-item:hover{background:#f8f9fa}.error-report-item.selected{background:#e3f2fd;border-left:3px solid #2196f3}.error-report-item.resolved{opacity:.7}.report-header{display:flex;gap:8px;margin-bottom:8px}.report-type{padding:2px 8px;border-radius:4px;font-size:12px}.report-type.manual{background:#fff3e0;color:#e65100}.report-type.automatic{background:#fce4ec;color:#c2185b}.report-status{padding:2px 8px;border-radius:4px;font-size:12px}.report-status.pending{background:#ffebee;color:#c62828}.report-status.resolved{background:#e8f5e9;color:#2e7d32}.report-info{display:flex;gap:12px;margin-bottom:4px}.report-player{font-weight:500;color:#333}.report-faction{color:#666}.report-time{font-size:12px;color:#888}.report-message-preview{margin-top:8px;font-size:13px;color:#666;background:#f5f5f5;padding:8px;border-radius:4px}.error-report-detail{background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;padding:20px;max-height:600px;overflow-y:auto}.error-report-detail h3{margin:0 0 20px;color:#333;border-bottom:1px solid #eee;padding-bottom:12px}.detail-section{margin-bottom:16px}.detail-section label{display:block;font-size:12px;color:#888;margin-bottom:4px}.detail-section span{font-size:14px;color:#333}.status-resolved{color:#2e7d32!important}.status-pending{color:#c62828!important}.error-description{background:#f5f5f5;padding:12px;border-radius:6px;font-size:14px;white-space:pre-wrap}.operations-list{background:#f5f5f5;border-radius:6px;max-height:200px;overflow-y:auto}.no-operations{padding:20px;text-align:center;color:#888}.operation-item{padding:12px;border-bottom:1px solid #e0e0e0}.operation-item:last-child{border-bottom:none}.operation-time{font-size:11px;color:#888;margin-bottom:4px}.operation-action{font-weight:500;color:#333;margin-bottom:4px}.operation-details{font-size:12px;color:#666;background:#fff;padding:8px;border-radius:4px;font-family:monospace;white-space:pre-wrap;word-break:break-all}.detail-actions{display:flex;gap:12px;margin-top:20px;padding-top:16px;border-top:1px solid #eee}.btn-resolve{padding:10px 20px;background:#4caf50;color:#fff;border:none;border-radius:6px;cursor:pointer}.btn-resolve:hover{background:#43a047}.btn-delete{padding:10px 20px;background:#f44336;color:#fff;border:none;border-radius:6px;cursor:pointer}.btn-delete:hover{background:#e53935}.loading{padding:40px;text-align:center;color:#888}.error-message{padding:12px;background:#ffebee;color:#c62828;border-radius:6px;margin-bottom:16px}*{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;background-color:#f5f5f5;color:#333;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app{max-width:1200px;margin:0 auto;padding:20px}h1{color:#1a1a2e;margin-bottom:10px}.app-loading{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a1a2e,#16213e);color:#fff}.app-loading .loading-spinner{width:40px;height:40px;border:3px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}@keyframes spin{to{transform:rotate(360deg)}}
